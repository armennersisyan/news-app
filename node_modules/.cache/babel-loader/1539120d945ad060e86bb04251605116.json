{"ast":null,"code":"const API_KEY = process.env.REACT_APP_NEWS_API_KEY;\nconst API_URL = process.env.REACT_APP_NEWS_API;\nexport function getEverything(success) {\n  return fetch(`${API_URL}/everything?q=technology&apiKey=${API_KEY}`).then(checkStatus).then(parseJSON).then(success).catch(() => {\n    console.log('error');\n  });\n}\nexport function getSources(success) {\n  return fetch(`${API_URL}/sources?language=en&apiKey=${API_KEY}`).then(checkStatus).then(parseJSON).then(success).catch(() => {\n    console.log('error');\n  });\n}\nexport function getNewsBySource(source) {\n  return fetch(`${API_URL}/everything?sources=${source}&apiKey=${API_KEY}`).then(checkStatus).then(parseJSON).catch(() => {\n    console.log('error');\n  });\n}\nexport function getNewsBySearch(search) {\n  return fetch(`${API_URL}/everything?sources=${search}&apiKey=${API_KEY}`).then(checkStatus).then(parseJSON).catch(() => {\n    console.log('error');\n  });\n}\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(`HTTP Error ${response.statusText}`);\n    error.status = response.statusText;\n    error.response = response;\n    console.log(error);\n    throw error;\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}","map":{"version":3,"sources":["/var/www/picsart/news-app/src/services/client.js"],"names":["API_KEY","process","env","REACT_APP_NEWS_API_KEY","API_URL","REACT_APP_NEWS_API","getEverything","success","fetch","then","checkStatus","parseJSON","catch","console","log","getSources","getNewsBySource","source","getNewsBySearch","search","response","status","error","Error","statusText","json"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B;AACA,MAAMC,OAAO,GAAGH,OAAO,CAACC,GAAR,CAAYG,kBAA5B;AAEA,OAAO,SAASC,aAAT,CAAuBC,OAAvB,EAAgC;AACrC,SAAOC,KAAK,CAAE,GAAEJ,OAAQ,mCAAkCJ,OAAQ,EAAtD,CAAL,CACJS,IADI,CACCC,WADD,EAEJD,IAFI,CAECE,SAFD,EAGJF,IAHI,CAGCF,OAHD,EAIJK,KAJI,CAIE,MAAM;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GANI,CAAP;AAOD;AAED,OAAO,SAASC,UAAT,CAAoBR,OAApB,EAA6B;AAClC,SAAOC,KAAK,CAAE,GAAEJ,OAAQ,+BAA8BJ,OAAQ,EAAlD,CAAL,CACJS,IADI,CACCC,WADD,EAEJD,IAFI,CAECE,SAFD,EAGJF,IAHI,CAGCF,OAHD,EAIJK,KAJI,CAIE,MAAM;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GANI,CAAP;AAOD;AAED,OAAO,SAASE,eAAT,CAAyBC,MAAzB,EAAiC;AACtC,SAAOT,KAAK,CAAE,GAAEJ,OAAQ,uBAAsBa,MAAO,WAAUjB,OAAQ,EAA3D,CAAL,CACJS,IADI,CACCC,WADD,EAEJD,IAFI,CAECE,SAFD,EAGJC,KAHI,CAGE,MAAM;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GALI,CAAP;AAMD;AAED,OAAO,SAASI,eAAT,CAAyBC,MAAzB,EAAiC;AACtC,SAAOX,KAAK,CAAE,GAAEJ,OAAQ,uBAAsBe,MAAO,WAAUnB,OAAQ,EAA3D,CAAL,CACJS,IADI,CACCC,WADD,EAEJD,IAFI,CAECE,SAFD,EAGJC,KAHI,CAGE,MAAM;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GALI,CAAP;AAMD;;AAED,SAASJ,WAAT,CAAqBU,QAArB,EAA+B;AAC7B,MAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,GAAkB,GAAhD,EAAqD;AACnD,WAAOD,QAAP;AACD,GAFD,MAEO;AACL,UAAME,KAAK,GAAG,IAAIC,KAAJ,CAAW,cAAaH,QAAQ,CAACI,UAAW,EAA5C,CAAd;AACAF,IAAAA,KAAK,CAACD,MAAN,GAAeD,QAAQ,CAACI,UAAxB;AACAF,IAAAA,KAAK,CAACF,QAAN,GAAiBA,QAAjB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACA,UAAMA,KAAN;AACD;AACF;;AAED,SAASX,SAAT,CAAmBS,QAAnB,EAA6B;AAC3B,SAAOA,QAAQ,CAACK,IAAT,EAAP;AACD","sourcesContent":["const API_KEY = process.env.REACT_APP_NEWS_API_KEY;\nconst API_URL = process.env.REACT_APP_NEWS_API;\n\nexport function getEverything(success) {\n  return fetch(`${API_URL}/everything?q=technology&apiKey=${API_KEY}`)\n    .then(checkStatus)\n    .then(parseJSON)\n    .then(success)\n    .catch(() => {\n      console.log('error')\n    })\n}\n\nexport function getSources(success) {\n  return fetch(`${API_URL}/sources?language=en&apiKey=${API_KEY}`)\n    .then(checkStatus)\n    .then(parseJSON)\n    .then(success)\n    .catch(() => {\n      console.log('error')\n    })\n}\n\nexport function getNewsBySource(source) {\n  return fetch(`${API_URL}/everything?sources=${source}&apiKey=${API_KEY}`)\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(() => {\n      console.log('error')\n    })\n}\n\nexport function getNewsBySearch(search) {\n  return fetch(`${API_URL}/everything?sources=${search}&apiKey=${API_KEY}`)\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(() => {\n      console.log('error')\n    })\n}\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(`HTTP Error ${response.statusText}`);\n    error.status = response.statusText;\n    error.response = response;\n    console.log(error);\n    throw error;\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}\n"]},"metadata":{},"sourceType":"module"}